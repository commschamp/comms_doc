<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COMMS: comms::util::alloc::InPlaceSingle&lt; TInterface, TAllTypes &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">COMMS
   </div>
   <div id="projectbrief">Template library intended to help with implementation of communication protocols.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecomms.html">comms</a></li><li class="navelem"><a class="el" href="namespacecomms_1_1util.html">util</a></li><li class="navelem"><a class="el" href="namespacecomms_1_1util_1_1alloc.html">alloc</a></li><li class="navelem"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html">InPlaceSingle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">comms::util::alloc::InPlaceSingle&lt; TInterface, TAllTypes &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="alloc_8h_source.html">alloc.h</a>&quot;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename TInterface, typename TAllTypes&gt;<br />
class comms::util::alloc::InPlaceSingle&lt; TInterface, TAllTypes &gt;</div><p>In-place single object allocator. </p>
<p>May allocate only single object at a time. In order to be able to allocate new object, previous one must be destructed first. The allocator contains uninitialised storage area in its private data, which is used to contain allocated object. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TInterface</td><td>Common interface class for all objects being allocated with this allocator. </td></tr>
    <tr><td class="paramname">TAllTypes</td><td>All the possible types that can be allocated with this allocator bundled in <b>std::tuple</b>. They are used to identify the size required to allocate any of the provided objects. </td></tr>
  </table>
  </dd>
</dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7e494a82cad43965b4bdc4d62c031d41" id="r_a7e494a82cad43965b4bdc4d62c031d41"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a7e494a82cad43965b4bdc4d62c031d41">Ptr</a> = std::unique_ptr&lt; TInterface, details::InPlaceDeleter&lt; TInterface &gt; &gt;</td></tr>
<tr class="memdesc:a7e494a82cad43965b4bdc4d62c031d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smart pointer (std::unique_ptr) to the allocated object.  <br /></td></tr>
<tr class="separator:a7e494a82cad43965b4bdc4d62c031d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a093f6a3d117b2569a808055da5f6aca3" id="r_a093f6a3d117b2569a808055da5f6aca3"><td class="memItemLeft" align="right" valign="top"><a id="a093f6a3d117b2569a808055da5f6aca3" name="a093f6a3d117b2569a808055da5f6aca3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>~InPlaceSingle</b> ()</td></tr>
<tr class="memdesc:a093f6a3d117b2569a808055da5f6aca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a093f6a3d117b2569a808055da5f6aca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8057381f3c43f341371c94648a561af8" id="r_a8057381f3c43f341371c94648a561af8"><td class="memTemplParams" colspan="2">template&lt;typename TObj , typename... TArgs&gt; </td></tr>
<tr class="memitem:a8057381f3c43f341371c94648a561af8"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a7e494a82cad43965b4bdc4d62c031d41">Ptr</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a8057381f3c43f341371c94648a561af8">alloc</a> (TArgs &amp;&amp;... args)</td></tr>
<tr class="memdesc:a8057381f3c43f341371c94648a561af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocation function.  <br /></td></tr>
<tr class="separator:a8057381f3c43f341371c94648a561af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76969e17fa5565e5eb4e375a14a4b9d3" id="r_a76969e17fa5565e5eb4e375a14a4b9d3"><td class="memItemLeft" align="right" valign="top"><a id="a76969e17fa5565e5eb4e375a14a4b9d3" name="a76969e17fa5565e5eb4e375a14a4b9d3"></a>
const void *&#160;</td><td class="memItemRight" valign="bottom"><b>allocAddr</b> () const</td></tr>
<tr class="memdesc:a76969e17fa5565e5eb4e375a14a4b9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get address of the objects being allocated using this allocator. <br /></td></tr>
<tr class="separator:a76969e17fa5565e5eb4e375a14a4b9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027b4ccedb98f3aa7e66ee93795456bf" id="r_a027b4ccedb98f3aa7e66ee93795456bf"><td class="memItemLeft" align="right" valign="top"><a id="a027b4ccedb98f3aa7e66ee93795456bf" name="a027b4ccedb98f3aa7e66ee93795456bf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>allocated</b> () const</td></tr>
<tr class="memdesc:a027b4ccedb98f3aa7e66ee93795456bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inquire whether the object is already allocated. <br /></td></tr>
<tr class="separator:a027b4ccedb98f3aa7e66ee93795456bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec495ead740f4ff4c0b222c59899fba" id="r_a6ec495ead740f4ff4c0b222c59899fba"><td class="memItemLeft" align="right" valign="top"><a id="a6ec495ead740f4ff4c0b222c59899fba" name="a6ec495ead740f4ff4c0b222c59899fba"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>canAllocate</b> () const</td></tr>
<tr class="memdesc:a6ec495ead740f4ff4c0b222c59899fba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inquiry whether allocation is possible. <br /></td></tr>
<tr class="separator:a6ec495ead740f4ff4c0b222c59899fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39f782388f7dbc05dca0e188c60d2492" id="r_a39f782388f7dbc05dca0e188c60d2492"><td class="memTemplParams" colspan="2">template&lt;typename TObj &gt; </td></tr>
<tr class="memitem:a39f782388f7dbc05dca0e188c60d2492"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a7e494a82cad43965b4bdc4d62c031d41">Ptr</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a39f782388f7dbc05dca0e188c60d2492">wrap</a> (TObj *obj)</td></tr>
<tr class="memdesc:a39f782388f7dbc05dca0e188c60d2492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to wrap raw pointer into a smart one.  <br /></td></tr>
<tr class="separator:a39f782388f7dbc05dca0e188c60d2492"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a7e494a82cad43965b4bdc4d62c031d41" name="a7e494a82cad43965b4bdc4d62c031d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e494a82cad43965b4bdc4d62c031d41">&#9670;&#160;</a></span>Ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TAllTypes &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html">comms::util::alloc::InPlaceSingle</a>&lt; TInterface, TAllTypes &gt;::Ptr =  std::unique_ptr&lt;TInterface, details::InPlaceDeleter&lt;TInterface&gt; &gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smart pointer (std::unique_ptr) to the allocated object. </p>
<p>The custom deleter makes sure the destructor of the allocated object is called. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8057381f3c43f341371c94648a561af8" name="a8057381f3c43f341371c94648a561af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8057381f3c43f341371c94648a561af8">&#9670;&#160;</a></span>alloc()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TAllTypes &gt; </div>
<div class="memtemplate">
template&lt;typename TObj , typename... TArgs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a7e494a82cad43965b4bdc4d62c031d41">Ptr</a> <a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html">comms::util::alloc::InPlaceSingle</a>&lt; TInterface, TAllTypes &gt;::alloc </td>
          <td>(</td>
          <td class="paramtype">TArgs &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocation function. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TObj</td><td>Type of the object being allocated, expected to be the same as or derived from <b>TInterface</b>. </td></tr>
    <tr><td class="paramname">TArgs</td><td>types of arguments to be passed to the constructor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Extra arguments to be passed to allocated object's constructor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smart pointer to the allocated object. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>If <b>TObj</b> is NOT the same as <b>TInterface</b>, i.e. <b>TInterface</b> is a base class of <b>TObj</b>, then <b>TInterface</b> must have virtual destructor. </dd></dl>

</div>
</div>
<a id="a39f782388f7dbc05dca0e188c60d2492" name="a39f782388f7dbc05dca0e188c60d2492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39f782388f7dbc05dca0e188c60d2492">&#9670;&#160;</a></span>wrap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TAllTypes &gt; </div>
<div class="memtemplate">
template&lt;typename TObj &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html#a7e494a82cad43965b4bdc4d62c031d41">Ptr</a> <a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingle.html">comms::util::alloc::InPlaceSingle</a>&lt; TInterface, TAllTypes &gt;::wrap </td>
          <td>(</td>
          <td class="paramtype">TObj *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used to wrap raw pointer into a smart one. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Type</td><td>of the object, expected to be the same as or derived from TInterface. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>Pointer to previously allocated object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smart pointer to the wrapped object. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/comms/util/<a class="el" href="alloc_8h_source.html">alloc.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
