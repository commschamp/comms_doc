<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COMMS: comms::util::alloc::InPlaceSingleNoVirtualDestructor&lt; TInterface, TAllocMessages, TOrigMessages, TId, TDefaultType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">COMMS
   </div>
   <div id="projectbrief">Template library intended to help with implementation of communication protocols.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecomms.html">comms</a></li><li class="navelem"><a class="el" href="namespacecomms_1_1util.html">util</a></li><li class="navelem"><a class="el" href="namespacecomms_1_1util_1_1alloc.html">alloc</a></li><li class="navelem"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html">InPlaceSingleNoVirtualDestructor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">comms::util::alloc::InPlaceSingleNoVirtualDestructor&lt; TInterface, TAllocMessages, TOrigMessages, TId, TDefaultType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="alloc_8h_source.html">alloc.h</a>&quot;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename TInterface, typename TAllocMessages, typename TOrigMessages, typename TId, typename TDefaultType = void&gt;<br />
class comms::util::alloc::InPlaceSingleNoVirtualDestructor&lt; TInterface, TAllocMessages, TOrigMessages, TId, TDefaultType &gt;</div><p>In-place single object allocator for message objects without virtual destructor. </p>
<p>May allocate only single object at a time. In order to be able to allocate new object, previous one must be destructed first. The allocator contains uninitialised storage area in its private data, which is used to contain allocated object. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TInterface</td><td>Common interface class for all objects being allocated with this allocator. </td></tr>
    <tr><td class="paramname">TAllocMessages</td><td>All the possible message types that can be allocated with this allocator bundled in <b>std::tuple</b>. They are used to identify the size required to allocate any of the provided objects. </td></tr>
    <tr><td class="paramname">TOrigMessages</td><td>All the original message types (without <a class="el" href="classcomms_1_1GenericMessage.html">comms::GenericMessage</a> added) ids of which are known at compile time. </td></tr>
    <tr><td class="paramname">TDefaultType</td><td><a class="el" href="classcomms_1_1Message.html" title="Main interface class for all the messages.">Message</a> type to cast to when correct type cannot be recognised. <b>void</b> means does not exist. </td></tr>
  </table>
  </dd>
</dl>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aaf07a7a5faf9427ab5fad54d3136f2b4" id="r_aaf07a7a5faf9427ab5fad54d3136f2b4"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html#aaf07a7a5faf9427ab5fad54d3136f2b4">Ptr</a> = std::unique_ptr&lt; TInterface, Deleter &gt;</td></tr>
<tr class="memdesc:aaf07a7a5faf9427ab5fad54d3136f2b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smart pointer (std::unique_ptr) to the allocated object.  <br /></td></tr>
<tr class="separator:aaf07a7a5faf9427ab5fad54d3136f2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a16ea43f380d804eccae28a2d7ffbb0c2" id="r_a16ea43f380d804eccae28a2d7ffbb0c2"><td class="memTemplParams" colspan="2">template&lt;typename TObj , typename... TArgs&gt; </td></tr>
<tr class="memitem:a16ea43f380d804eccae28a2d7ffbb0c2"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html#aaf07a7a5faf9427ab5fad54d3136f2b4">Ptr</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html#a16ea43f380d804eccae28a2d7ffbb0c2">alloc</a> (TId id, unsigned idx, TArgs &amp;&amp;... args)</td></tr>
<tr class="memdesc:a16ea43f380d804eccae28a2d7ffbb0c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocation function.  <br /></td></tr>
<tr class="separator:a16ea43f380d804eccae28a2d7ffbb0c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91ef25e1c1854ce5a55099d5ab1bdcf" id="r_ab91ef25e1c1854ce5a55099d5ab1bdcf"><td class="memItemLeft" align="right" valign="top"><a id="ab91ef25e1c1854ce5a55099d5ab1bdcf" name="ab91ef25e1c1854ce5a55099d5ab1bdcf"></a>
const void *&#160;</td><td class="memItemRight" valign="bottom"><b>allocAddr</b> () const</td></tr>
<tr class="memdesc:ab91ef25e1c1854ce5a55099d5ab1bdcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get address of the objects being allocated using this allocator. <br /></td></tr>
<tr class="separator:ab91ef25e1c1854ce5a55099d5ab1bdcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb5913f14333fab6ef4c1ece362e457e" id="r_acb5913f14333fab6ef4c1ece362e457e"><td class="memItemLeft" align="right" valign="top"><a id="acb5913f14333fab6ef4c1ece362e457e" name="acb5913f14333fab6ef4c1ece362e457e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>allocated</b> () const</td></tr>
<tr class="memdesc:acb5913f14333fab6ef4c1ece362e457e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inquire whether the object is already allocated. <br /></td></tr>
<tr class="separator:acb5913f14333fab6ef4c1ece362e457e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1563b6178e955db46751a73f5d2ddc3" id="r_aa1563b6178e955db46751a73f5d2ddc3"><td class="memItemLeft" align="right" valign="top"><a id="aa1563b6178e955db46751a73f5d2ddc3" name="aa1563b6178e955db46751a73f5d2ddc3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>canAllocate</b> () const</td></tr>
<tr class="memdesc:aa1563b6178e955db46751a73f5d2ddc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inquiry whether allocation is possible. <br /></td></tr>
<tr class="separator:aa1563b6178e955db46751a73f5d2ddc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aaf07a7a5faf9427ab5fad54d3136f2b4" name="aaf07a7a5faf9427ab5fad54d3136f2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf07a7a5faf9427ab5fad54d3136f2b4">&#9670;&#160;</a></span>Ptr</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TAllocMessages , typename TOrigMessages , typename TId , typename TDefaultType  = void&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html">comms::util::alloc::InPlaceSingleNoVirtualDestructor</a>&lt; TInterface, TAllocMessages, TOrigMessages, TId, TDefaultType &gt;::Ptr =  std::unique_ptr&lt;TInterface, Deleter&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smart pointer (std::unique_ptr) to the allocated object. </p>
<p>The custom deleter makes sure the destructor of the allocated object is called. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a16ea43f380d804eccae28a2d7ffbb0c2" name="a16ea43f380d804eccae28a2d7ffbb0c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ea43f380d804eccae28a2d7ffbb0c2">&#9670;&#160;</a></span>alloc()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TInterface , typename TAllocMessages , typename TOrigMessages , typename TId , typename TDefaultType  = void&gt; </div>
<div class="memtemplate">
template&lt;typename TObj , typename... TArgs&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html#aaf07a7a5faf9427ab5fad54d3136f2b4">Ptr</a> <a class="el" href="classcomms_1_1util_1_1alloc_1_1InPlaceSingleNoVirtualDestructor.html">comms::util::alloc::InPlaceSingleNoVirtualDestructor</a>&lt; TInterface, TAllocMessages, TOrigMessages, TId, TDefaultType &gt;::alloc </td>
          <td>(</td>
          <td class="paramtype">TId&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TArgs &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocation function. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TObj</td><td>Type of the object being allocated, expected to be the same as or derived from <b>TInterface</b>. </td></tr>
    <tr><td class="paramname">TArgs</td><td>types of arguments to be passed to the constructor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>Numeric ID of the message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>Index of the message type among types with same ID provided in <b>TOrigMessages</b> tuple. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">args</td><td>Extra arguments to be passed to allocated object's constructor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smart pointer to the allocated object. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/comms/util/<a class="el" href="alloc_8h_source.html">alloc.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
